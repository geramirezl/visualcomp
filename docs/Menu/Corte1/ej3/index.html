<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Ejercicio 3 # Implement a pixelator video application and perform a benchmark of the results (color avg vs spatial coherence). How would you assess the visual quality of the results?
Spatial Coherence # En este ejemplo, implementamos una aplicación de pixelator para video, usando la captura de la videocamara. Para pixelar se usaron las dos diferentes formas o técnicas que se planteaban (promedio de color y coherencia espacial).
Color AVG # Cada color pixelado se calcula con el promedio de los colores en el grupo de la imagen original."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Ejercicio 3 # Implement a pixelator video application and perform a benchmark of the results (color avg vs spatial coherence). How would you assess the visual quality of the results?
Spatial Coherence # En este ejemplo, implementamos una aplicación de pixelator para video, usando la captura de la videocamara. Para pixelar se usaron las dos diferentes formas o técnicas que se planteaban (promedio de color y coherencia espacial).
Color AVG # Cada color pixelado se calcula con el promedio de los colores en el grupo de la imagen original."><meta property="og:type" content="article"><meta property="og:url" content="https://geramirezl.github.io/visualcomp/docs/Menu/Corte1/ej3/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-03-14T23:15:57-05:00"><title>Ej3 | Showcase Template</title><link rel=manifest href=/visualcomp/manifest.json><link rel=icon href=/visualcomp/favicon.png type=image/x-icon><link rel=stylesheet href=/visualcomp/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/visualcomp/flexsearch.min.js></script>
<script defer src=/visualcomp/en.search.min.c54cb0b85d98bce471dc5c99b81825538ca7dcde0cb774b6ea5817733a896b49.js integrity="sha256-xUywuF2YvORx3FyZuBglU4yn3N4Mt3S26lgXczqJa0k=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/visualcomp/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Menu</span><ul><li><input type=checkbox id=section-a24993e858734e2a47438db23047ae18 class=toggle checked>
<label for=section-a24993e858734e2a47438db23047ae18 class="flex justify-between"><a role=button>Corte1</a></label><ul><li><a href=/visualcomp/docs/Menu/Corte1/ej1/>Ej1</a></li><li><a href=/visualcomp/docs/Menu/Corte1/ej2/>Ej2</a></li><li><a href=/visualcomp/docs/Menu/Corte1/ej3/ class=active>Ej3</a></li></ul></li><li><input type=checkbox id=section-043ec1151eedb9eb9d051a3192c81258 class=toggle>
<label for=section-043ec1151eedb9eb9d051a3192c81258 class="flex justify-between"><a role=button>Corte2</a></label><ul><li><a href=/visualcomp/docs/Menu/Corte2/ej1/>Ej1</a></li></ul></li><li><input type=checkbox id=section-37fa7d2ca1a125edfd2dd33fadc1c2f9 class=toggle>
<label for=section-37fa7d2ca1a125edfd2dd33fadc1c2f9 class="flex justify-between"><a role=button>Corte3</a></label><ul><li><a href=/visualcomp/docs/Menu/Corte3/ej1/>Ej1</a></li></ul></li><li><input type=checkbox id=section-388bef96d17c2b11976e72fa3dd44910 class=toggle>
<label for=section-388bef96d17c2b11976e72fa3dd44910 class="flex justify-between"><a href=/visualcomp/docs/Menu/Members/>Members</a></label><ul><li><a href=/visualcomp/docs/Menu/Members/FabianMontes/>Fabian Montes</a></li><li><a href=/visualcomp/docs/Menu/Members/GabrielRamirez/>Gabriel Ramirez</a></li><li><a href=/visualcomp/docs/Menu/Members/JuanSierra/>Juan Sierra</a></li></ul></li><li><input type=checkbox id=section-2a8fcaa7f0b89ed89cd6417a1bdcdbd7 class=toggle>
<label for=section-2a8fcaa7f0b89ed89cd6417a1bdcdbd7 class="flex justify-between"><a href=/visualcomp/docs/Menu/p5/>P5</a></label><ul><li><a href=/visualcomp/docs/Menu/p5/Corte-2/>Corte 2</a></li><li><a href=/visualcomp/docs/Menu/p5/Corte-1/>Corte 1</a></li></ul></li></ul></li></ul><ul><li><a href=/visualcomp/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/visualcomp/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Ej3</strong>
<label for=toc-control><img src=/visualcomp/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#ejercicio-3>Ejercicio 3</a><ul><li><a href=#spatial-coherence>Spatial Coherence</a><ul><li><a href=#color-avg>Color AVG</a></li><li><a href=#coherencia-espacial>Coherencia espacial</a></li><li><a href=#diferencia>Diferencia</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=ejercicio-3>Ejercicio 3
<a class=anchor href=#ejercicio-3>#</a></h1><p>Implement a pixelator video application and perform a benchmark of the results (color avg vs spatial coherence). How would you assess the visual quality of the results?</p><h2 id=spatial-coherence>Spatial Coherence
<a class=anchor href=#spatial-coherence>#</a></h2><p>En este ejemplo, implementamos una aplicación de pixelator para video, usando la captura de la videocamara.
Para pixelar se usaron las dos diferentes formas o técnicas que se planteaban (promedio de color y coherencia espacial).</p><h3 id=color-avg>Color AVG
<a class=anchor href=#color-avg>#</a></h3><p>Cada color pixelado se calcula con el promedio de los colores en el grupo de la imagen original.</p><h3 id=coherencia-espacial>Coherencia espacial
<a class=anchor href=#coherencia-espacial>#</a></h3><p>Cada color pixelado se toma de un color único arbitrario encontrado en cada grupo de la imagen original.
Se buscan agrupar pixeles que tengan que ver entre ellos (cercanía y características visuales similares).</p><h3 id=diferencia>Diferencia
<a class=anchor href=#diferencia>#</a></h3><p>La principal diferencia entre ambas técnicas es que la técnica de coherencia espacial genera bloques de píxeles que son visualmente más coherentes que los bloques generados por la técnica de promedio de color, lo que puede resultar en una imagen más nítida y definida. Sin embargo, la técnica de coherencia espacial puede ser más compleja y computacionalmente mayor que la técnica de promedio de color, por lo que puede requerir más tiempo de procesamiento.</p><p><details><summary>Código</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>video</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mode</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;colorAvg&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>stepSize</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>50</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>smallStep</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>stepSize</span> <span style=color:#f92672>/</span><span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>640</span>, <span style=color:#ae81ff>640</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pixelDensity</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCapture</span>(<span style=color:#a6e22e>VIDEO</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video</span>.<span style=color:#a6e22e>size</span>(<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>modeButton</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#39;Cambiar Modo&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>modeButton</span>.<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>150</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>modeButton</span>.<span style=color:#a6e22e>position</span>( <span style=color:#a6e22e>modeButton</span>.<span style=color:#a6e22e>width</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>modeButton</span>.<span style=color:#a6e22e>height</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>modeButton</span>.<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>changeMode</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>modeText</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createP</span>(<span style=color:#e6db74>&#39;Modo actual: &#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>mode</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>modeText</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>width</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>modeText</span>.<span style=color:#a6e22e>width</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2.4</span>, <span style=color:#a6e22e>modeButton</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>modeButton</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>stepSizeButton</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#39;Cambiar tamaño de píxel&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>stepSizeButton</span>.<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>150</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>stepSizeButton</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>width</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>stepSizeButton</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>stepSizeButton</span>.<span style=color:#a6e22e>height</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>stepSizeButton</span>.<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>changeStepSize</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>stepSizeText</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createP</span>(<span style=color:#e6db74>&#39;Tamaño de píxel actual: &#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>stepSize</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>stepSizeText</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>stepSizeText</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2.4</span>, <span style=color:#a6e22e>modeText</span>.<span style=color:#a6e22e>height</span><span style=color:#f92672>+</span> <span style=color:#a6e22e>stepSizeButton</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>stepSizeButton</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mode</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;colorAvg&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>colorAvgMode</span>();
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mode</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;spatialCoherence&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>spatialCoherenceMode</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>changeMode</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mode</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;colorAvg&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mode</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;spatialCoherence&#39;</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mode</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;spatialCoherence&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mode</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;colorAvg&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>modeText</span>.<span style=color:#a6e22e>html</span>(<span style=color:#e6db74>&#39;Modo actual: &#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>mode</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>changeStepSize</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>stepSize</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>50</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stepSize</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>stepSize</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>20</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stepSize</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>stepSize</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>10</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stepSize</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>50</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>stepSizeText</span>.<span style=color:#a6e22e>html</span>(<span style=color:#e6db74>&#39;Tamaño de píxel actual: &#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>stepSize</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>colorAvgMode</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>stepSize</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>stepSize</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>count</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>stepSize</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>stepSize</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>px</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>j</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>width</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>r</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>video</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>px</span>];
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>g</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>video</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>px</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>b</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>video</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>px</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>count</span><span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>r</span> <span style=color:#f92672>/=</span> <span style=color:#a6e22e>count</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>g</span> <span style=color:#f92672>/=</span> <span style=color:#a6e22e>count</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>b</span> <span style=color:#f92672>/=</span> <span style=color:#a6e22e>count</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>g</span>, <span style=color:#a6e22e>b</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>stepSize</span>, <span style=color:#a6e22e>stepSize</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>spatialCoherenceMode</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>stepSize</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>stepSize</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>count</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>smallStep</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>stepSize</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>smallStep</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>smallStep</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>stepSize</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>smallStep</span>) {
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>px</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>j</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>width</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>r</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>video</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>px</span>];
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>g</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>video</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>px</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>b</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>video</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>px</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>count</span><span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>r</span> <span style=color:#f92672>/=</span> <span style=color:#a6e22e>count</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>g</span> <span style=color:#f92672>/=</span> <span style=color:#a6e22e>count</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>b</span> <span style=color:#f92672>/=</span> <span style=color:#a6e22e>count</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>g</span>, <span style=color:#a6e22e>b</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>stepSize</span>, <span style=color:#a6e22e>stepSize</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><iframe id=pixelator style=width:700px;height:700px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/visualcomp/sketches/pixelator.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://geramirezl.github.io/visualcomp/commit/a9fecde1fe28b493808c59584f34531fe080eeff title='Last modified by geramirezl | March 15, 2023' target=_blank rel=noopener><img src=/visualcomp/svg/calendar.svg class=book-icon alt=Calendar>
<span>March 15, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#ejercicio-3>Ejercicio 3</a><ul><li><a href=#spatial-coherence>Spatial Coherence</a><ul><li><a href=#color-avg>Color AVG</a></li><li><a href=#coherencia-espacial>Coherencia espacial</a></li><li><a href=#diferencia>Diferencia</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>